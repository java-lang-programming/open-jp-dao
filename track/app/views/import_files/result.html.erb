<% content_for :title do %>WanWan csvインポート結果画面<% end %>

<% content_for :header do %>
  <%= render "layouts/header", user: @user, notification: @notification %>
<% end %>

<section class="py-8">

  <% if @import_file.failure? %>
    <%= render "shared/import_files/list", import_file_errors: @import_file.import_file_errors.first.fetch_errors %>
  <% elsif @import_file.ready? %>
    <div class="flex justify-center">
      <p class="text-yellow-700 p-3 rounded-md text-center font-semibold text-lg max-w-lg w-full">
        処理を準備中です。少々お待ちください。
      </p>
    </div>  
  <% elsif @import_file.in_progress? %>
    <div class="flex justify-center">
      <p class="text-green-700 p-3 rounded-md text-center font-semibold text-lg max-w-lg w-full">
        処理を実行中です。少々お待ちください。
      </p>
    </div>  
  <% elsif @import_file.completed? %>
    <div class="flex flex-col items-center justify-center gap-4">
      <p class="text-green-700 p-3 rounded-md text-center font-semibold text-lg max-w-lg w-full">
        処理は成功しました。
      </p>
      <%= link_to "#{@import_file.target_screen}でデータを確認する", @import_file.target_path, class: 'px-4 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700' %>
    </div>
  <% end %>

</section>