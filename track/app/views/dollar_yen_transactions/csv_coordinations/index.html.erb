<% content_for :title do %>WanWan <%= t('views.dollar_yen_transactions.index') %><% end %>

<% content_for :header do %>
  <%= render "layouts/header", user: @user, notification: @notification %>
<% end %>

<% if flash[:notice] %>
  <section class="bg-white py-4">
    <div class="flex">
      <p class="mx-auto font-bold text-red-500"><%= notice %></p>
    </div>
  </section>
<% end %>


<section class="py-8 dark:bg-neutral-900 min-h-screen">
  <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
    <div class="max-w-2xl mx-auto text-center mb-10 lg:mb-14">
      <h2 class="text-2xl font-bold md:text-4xl md:leading-tight dark:text-white">
        CSV連携一覧
      </h2>
      <p class="mt-1 text-gray-600 dark:text-neutral-400">金融機関のcsvデータ連携状況の確認と設定が行えます。</p>
    </div>

    <div class="max-w-2xl mx-auto space-y-4">
      <div class="group flex flex-col bg-white border shadow-sm rounded-xl hover:shadow-md transition dark:bg-neutral-800 dark:border-neutral-700">
        <div class="p-4 md:p-5">
          <div class="flex justify-between items-center">
            <div class="flex items-center gap-x-3">
              <div class="inline-flex items-center justify-center size-[46px] rounded-lg border border-gray-200 bg-gray-50 text-gray-500 dark:bg-neutral-900 dark:border-neutral-700">
                <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
              </div>
              <div>
                <h3 class="font-semibold text-gray-800 dark:text-neutral-200">
                  SBI入出金明細
                </h3>
                <div class="flex items-center gap-x-2">
                  <% if @external_service_transaction_types.present? %>
                    <span class="inline-flex items-center gap-x-1.5 py-0.5 px-2 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-500">
                      <span class="size-1.5 inline-block rounded-full bg-red-800 dark:bg-red-500"></span>
                      連携済
                    </span>
                  <% else %>
                    <span class="inline-flex items-center gap-x-1.5 py-0.5 px-2 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-500">
                      <span class="size-1.5 inline-block rounded-full bg-red-800 dark:bg-red-500"></span>
                      未連携
                    </span>
                  <% end %>
                </div>
              </div>
            </div>
            <div class="ps-3">
              <%= link_to "連携する", dollar_yen_transactions_csv_coordination_path(id: ExternalService::SUMISHIN_SBI_NYUSHUKINMEISAI), class: "py-2 px-4 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none" %>
            </div>
          </div>
        </div>
      </div>

      <!-- 利用不可の場合 -->
      <div class="group flex flex-col bg-white border shadow-sm rounded-xl hover:shadow-md transition dark:bg-neutral-800 dark:border-neutral-700">
        <div class="p-4 md:p-5">
          <div class="flex justify-between items-center">
            <div class="flex items-center gap-x-3">
              <div class="flex items-center gap-x-3 opacity-60">
                <div class="inline-flex items-center justify-center size-[46px] rounded-lg border border-gray-200 bg-white text-gray-400 dark:bg-neutral-800 dark:border-neutral-700">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                </div>
                <div>
                  <h3 class="font-semibold text-gray-800 dark:text-neutral-200">
                    SBI入出金明細
                  </h3>
                  <div class="flex items-center gap-x-2">
                          <span class="inline-flex items-center gap-x-1.5 py-0.5 px-2 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-neutral-700 dark:text-neutral-400">
                            <svg class="size-3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                            プレミアムプラン専用
                          </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="ps-3">
              <p class="mb-2 text-xs font-medium text-amber-600 dark:text-amber-500">
                こちらの機能は有償です
              </p>
              <button type="button" class="py-2 px-4 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:hover:bg-amber-900/50">
                プランを確認
              </button>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>
</section>


<% content_for :footer do %>
  <%= render "layouts/footer" %>
<% end %>